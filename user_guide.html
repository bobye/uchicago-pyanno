

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>User guide &mdash; pyanno 2.0 documentation</title>
    
    <link rel="stylesheet" href="_static/default.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '',
        VERSION:     '2.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="top" title="pyanno 2.0 documentation" href="index.html" />
    <link rel="next" title="Model definitions" href="models.html" />
    <link rel="prev" title="Installation guide" href="installation.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="models.html" title="Model definitions"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="installation.html" title="Installation guide"
             accesskey="P">previous</a> |</li>
        <li><a href="index.html">pyanno 2.0 documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="user-guide">
<h1><a class="toc-backref" href="#id1">User guide</a><a class="headerlink" href="#user-guide" title="Permalink to this headline">¶</a></h1>
<p>This user guide contains information about getting started
with pyAnno, running simulations and running model estimation.</p>
<p>pyAnno can be used as a Python library from within your Python code, or as
a standalone application by executing the pyAnno GUI.</p>
<div class="contents topic" id="index">
<p class="topic-title first">Index</p>
<ul class="simple">
<li><a class="reference internal" href="#user-guide" id="id1">User guide</a><ul>
<li><a class="reference internal" href="#using-the-library-from-the-pyanno-gui" id="id2">Using the library from the pyAnno GUI</a><ul>
<li><a class="reference internal" href="#starting-the-gui" id="id3">Starting the GUI</a></li>
<li><a class="reference internal" href="#navigating-the-main-window" id="id4">Navigating the main window</a><ul>
<li><a class="reference internal" href="#plot-tools" id="id5">Plot tools</a></li>
</ul>
</li>
<li><a class="reference internal" href="#the-database-window" id="id6">The database window</a></li>
</ul>
</li>
<li><a class="reference internal" href="#using-the-library-from-python" id="id7">Using the library from Python</a><ul>
<li><a class="reference internal" href="#general-organization-of-pyanno" id="id8">General organization of pyAnno</a></li>
<li><a class="reference internal" href="#annotations" id="id9">Annotations</a></li>
<li><a class="reference internal" href="#models" id="id10">Models</a><ul>
<li><a class="reference internal" href="#creating-a-new-model" id="id11">Creating a new model</a></li>
<li><a class="reference internal" href="#estimating-parameters" id="id12">Estimating parameters</a></li>
<li><a class="reference internal" href="#computing-the-posterior-distribution-over-label-classes" id="id13">Computing the posterior distribution over label classes</a></li>
<li><a class="reference internal" href="#computing-the-posterior-distribution-over-accuracy" id="id14">Computing the posterior distribution over accuracy</a></li>
<li><a class="reference internal" href="#more-model-methods" id="id15">More model methods</a></li>
</ul>
</li>
<li><a class="reference internal" href="#annotation-statistics" id="id16">Annotation statistics</a></li>
<li><a class="reference internal" href="#plots" id="id17">Plots</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="section" id="using-the-library-from-the-pyanno-gui">
<h2><a class="toc-backref" href="#id2">Using the library from the pyAnno GUI</a><a class="headerlink" href="#using-the-library-from-the-pyanno-gui" title="Permalink to this headline">¶</a></h2>
<div class="section" id="starting-the-gui">
<h3><a class="toc-backref" href="#id3">Starting the GUI</a><a class="headerlink" href="#starting-the-gui" title="Permalink to this headline">¶</a></h3>
<p>If you installed pyAnno using <a class="reference internal" href="installation.html#binary-installers"><em>the EPD Free binary installers</em></a>, you will find a pyAnno icon in your Start menu and
on the Desktop (on Windows), or in the Applications folder (on Mac).</p>
<p>In all cases, you can start the GUI from a terminal, with the command:</p>
<div class="highlight-python"><pre>$ pyanno-ui</pre>
</div>
</div>
<div class="section" id="navigating-the-main-window">
<h3><a class="toc-backref" href="#id4">Navigating the main window</a><a class="headerlink" href="#navigating-the-main-window" title="Permalink to this headline">¶</a></h3>
<p>This is the main window of the pyAnno GUI:</p>
<img alt="_images/main_window_screenshot.png" src="_images/main_window_screenshot.png" style="width: 600pt;" />
<p>It contains three panels:</p>
<ul>
<li><p class="first">On the left side we find the <strong>model panel</strong>. At the top, there are controls
to create a new model. Select the desired model from the selection box,
and click on &#8220;Create...&#8221; to enter the basic parameters for the model, for
example:</p>
<img alt="_images/create_model.png" src="_images/create_model.png" style="width: 300pt;" />
<p>Just below, we find a summary of the model information, and a graphical
display of the current model parameters:</p>
<img alt="_images/model_info.png" src="_images/model_info.png" style="width: 300pt;" />
</li>
<li><p class="first">On the right side we find the <strong>annotations panel</strong>. Open an annotations
data file or create an empty annotation set from the file dialog at the top:</p>
<img alt="_images/open_file.png" src="_images/open_file.png" style="width: 300pt;" />
<p>Once opened, the panel shows some basic information about the annotations:</p>
<img alt="_images/annotations_info.png" src="_images/annotations_info.png" style="width: 300pt;" />
<p>Finally, the bottommost part of the panel displays standard statistics
of annotators agreement and covariance:</p>
<img alt="_images/stats_view.png" src="_images/stats_view.png" style="width: 300pt;" />
</li>
<li><p class="first">At the bottom we can see the <strong>actions panel</strong>. If the current model
and annotations are compatible (e.g., they have the same number of
annotators, the panel will show the log likelihood of the data under
the model given the current parameters, and wil also offer a number
of actions:</p>
<blockquote>
<div><img alt="_images/action_panel.png" src="_images/action_panel.png" style="width: 300pt;" />
</div></blockquote>
<p>From left to right, the buttons allow to estimate parameters by
maximum likelihood (&#8220;ML estimate...&#8221;), or by maximum a posteriori estimate
(&#8220;MAP estimate...&#8221;).</p>
<p>The third button allows to draw a number of samples from the posterior
distribution of the accuracy parameters, which represent the correctness
of the annotators.</p>
<blockquote>
<div><img alt="_images/sampling_dialog.png" src="_images/sampling_dialog.png" style="width: 300pt;" />
</div></blockquote>
<p>After sampling, the model panel will show credible
intervals around the parameters.</p>
<blockquote>
<div><img alt="_images/credible_intervals.png" src="_images/credible_intervals.png" style="width: 300pt;" />
</div></blockquote>
<p>The last button, &#8220;Estimate labels...&#8221; computes the posterior probability
of the &#8220;true&#8221; labels underlying the observed data, and show it as a plot
in a separate window:</p>
<blockquote>
<div><img alt="_images/estimate_labels_screenshot.png" src="_images/estimate_labels_screenshot.png" style="width: 200pt;" />
</div></blockquote>
<p>You can left-click and drag on the plot to examine all the data.</p>
</li>
</ul>
<div class="section" id="plot-tools">
<h4><a class="toc-backref" href="#id5">Plot tools</a><a class="headerlink" href="#plot-tools" title="Permalink to this headline">¶</a></h4>
<p>All plots on the main window offer these tools:</p>
<ul class="simple">
<li>To save a plot as displayed in the window, click on the plot and press Ctrl-S
(Cmd-S on Mac). A dialog will open, asking for a destination file
and the resolution of the saved image (in dpi).</li>
<li>It is possible to copy the <em>data</em> underlying the plots by pressing Ctrl-C
(Cmd-C on Mac). The data is copied on the clipboard as a Python string,
which can be copied in a text file, or in a Python shell to further analyze
it. For most plots, the copied data will be a numpy array. Make sure to
type <cite>from numpy import array</cite> in your Python shell so that Python can create
an array object when you paste the string.</li>
</ul>
</div>
</div>
<div class="section" id="the-database-window">
<h3><a class="toc-backref" href="#id6">The database window</a><a class="headerlink" href="#the-database-window" title="Permalink to this headline">¶</a></h3>
<p>In the bottom right part of the window there are two additional buttons that
can be used to interact with the <strong>results database</strong>:</p>
<blockquote>
<div><img alt="_images/database_buttons.png" src="_images/database_buttons.png" style="width: 200pt;" />
</div></blockquote>
<p>Clicking on
&#8220;Open database&#8221; opens a new window showing the current
contents of the database:</p>
<blockquote>
<div><img alt="_images/database_screenshot.png" src="_images/database_screenshot.png" style="width: 500pt;" />
</div></blockquote>
<p>Each row of the table shows a pyAnno result: for each annotations set
(first column), one can examine the models that have been applied to
it (second column), sorted by decreasing log likelihood (third column).</p>
<p>To save the current results in the database, press &#8220;Add to database&#8221;.
Vice versa, to load old results in the main window, select the
corresponding row in the database window, and click on &#8220;Load results&#8221;.</p>
</div>
</div>
<div class="section" id="using-the-library-from-python">
<h2><a class="toc-backref" href="#id7">Using the library from Python</a><a class="headerlink" href="#using-the-library-from-python" title="Permalink to this headline">¶</a></h2>
<div class="section" id="general-organization-of-pyanno">
<h3><a class="toc-backref" href="#id8">General organization of pyAnno</a><a class="headerlink" href="#general-organization-of-pyanno" title="Permalink to this headline">¶</a></h3>
<p>The pyAnno library is composed of several modules:</p>
<ul class="simple">
<li><a class="reference internal" href="pyanno.models.html"><em>pyanno.models</em></a> defines a number of models for the
annotation process</li>
<li><a class="reference internal" href="pyanno.annotations.html#module-pyanno.annotations" title="pyanno.annotations"><tt class="xref py py-mod docutils literal"><span class="pre">pyanno.annotations</span></tt></a> offers a <tt class="xref py py-class docutils literal"><span class="pre">AnnotationsContainer</span></tt> object
to load annotation files</li>
<li><a class="reference internal" href="pyanno.measures.html#module-pyanno.measures" title="pyanno.measures"><tt class="xref py py-mod docutils literal"><span class="pre">pyanno.measures</span></tt></a> contains a number of statistical functions to
measure aggreement and covariance between annotators</li>
<li><tt class="xref py py-mod docutils literal"><span class="pre">pyanno.plots</span></tt> defines functions to give a graphical representations
of annotations and model parameters</li>
<li><a class="reference internal" href="pyanno.database.html#module-pyanno.database" title="pyanno.database"><tt class="xref py py-mod docutils literal"><span class="pre">pyanno.database</span></tt></a> defines a
<tt class="xref py py-class docutils literal"><span class="pre">PyannoDatabase</span></tt> object that can be used to store and retrieve
the result of applying models to annotations</li>
<li><tt class="xref py py-mod docutils literal"><span class="pre">pyanno.ui</span></tt> contains the definition of the pyAnno GUI,
which is used by the pyAnno application and is
typically not used directly from Python</li>
</ul>
</div>
<div class="section" id="annotations">
<h3><a class="toc-backref" href="#id9">Annotations</a><a class="headerlink" href="#annotations" title="Permalink to this headline">¶</a></h3>
<p>In pyAnno, annotations are two-dimensional arrays of integers. Rows
correspond to data items, and columns to annotators. Each entry <img class="math" src="_images/math/391d16aa9be108ec679aeaf14a6f3b532f4fef19.png" alt="x_i^j"/>
in an annotation array is the label class assigned by annotator <img class="math" src="_images/math/8122aa89ea6e80784c6513d22787ad86e36ad0cc.png" alt="j"/> to
item <img class="math" src="_images/math/34857b3ba74ce5cd8607f3ebd23e9015908ada71.png" alt="i"/>, or <a class="reference internal" href="pyanno.html#pyanno.util.MISSING_VALUE" title="pyanno.util.MISSING_VALUE"><tt class="xref py py-attr docutils literal"><span class="pre">pyanno.util.MISSING_VALUE</span></tt></a> for missing values. If
your data does not match this standard, do not worry: pyAnno offers a
class, <a class="reference internal" href="pyanno.annotations.html#pyanno.annotations.AnnotationsContainer" title="pyanno.annotations.AnnotationsContainer"><tt class="xref py py-class docutils literal"><span class="pre">AnnotationsContainer</span></tt></a>
to create annotations in the appropriate format.</p>
<p>To create an <strong>annotations array from a data file</strong>, you can write:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">pyanno.annotations</span> <span class="kn">import</span> <span class="n">AnnotationsContainer</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">anno</span> <span class="o">=</span> <span class="n">AnnotationsContainer</span><span class="o">.</span><span class="n">from_file</span><span class="p">(</span><span class="s">&quot;DATAPATH/testdata_words.txt&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">anno</span><span class="o">.</span><span class="n">annotations</span>
<span class="go">array([[ 1,  1,  1, ..., -1, -1, -1],</span>
<span class="go">       [ 1,  1,  1, ..., -1, -1, -1],</span>
<span class="go">       [ 2,  2,  2, ..., -1, -1, -1],</span>
<span class="go">       ...,</span>
<span class="go">       [ 1,  2, -1, ..., -1, -1,  1],</span>
<span class="go">       [ 0,  0, -1, ..., -1, -1,  0],</span>
<span class="go">       [ 1,  1, -1, ..., -1, -1,  1]])</span>
</pre></div>
</div>
<p><a class="reference internal" href="pyanno.annotations.html#pyanno.annotations.AnnotationsContainer" title="pyanno.annotations.AnnotationsContainer"><tt class="xref py py-class docutils literal"><span class="pre">AnnotationsContainer</span></tt></a> is able to read text files
with annotations separated by whitespaces and/or commas. Labels can be any
number or word. Using the <cite>missing_values</cite> keyword argument one can specify
tokens which tokens represent missing values in the data. Default missing
values for files are &#8216;-1&#8217;, &#8216;NA&#8217;, &#8216;None&#8217;, and &#8216;*&#8217;.</p>
<p>In the example, the file <cite>testdata_words.txt</cite> contains the tokens &#8216;HIGH&#8217;,
&#8216;MEDIUM&#8217; and &#8216;LOW&#8217;, and missing values are indicated as &#8216;NA&#8217;:</p>
<div class="highlight-python"><pre>LOW LOW LOW NA NA NA NA NA
LOW LOW LOW NA NA NA NA NA
MEDIUM MEDIUM MEDIUM NA NA NA NA NA
...
LOW MEDIUM NA NA NA NA NA LOW
HIGH HIGH NA NA NA NA NA HIGH
LOW LOW NA NA NA NA NA LOW</pre>
</div>
<p>You can interrogate the <a class="reference internal" href="pyanno.annotations.html#pyanno.annotations.AnnotationsContainer" title="pyanno.annotations.AnnotationsContainer"><tt class="xref py py-class docutils literal"><span class="pre">AnnotationsContainer</span></tt></a>
object about that:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">anno</span><span class="o">.</span><span class="n">labels</span>
<span class="go">[&#39;HIGH&#39;, &#39;LOW&#39;, &#39;MEDIUM&#39;]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">anno</span><span class="o">.</span><span class="n">missing_values</span>
<span class="go">[&#39;NA&#39;]</span>
</pre></div>
</div>
<p>To create an <strong>annotations array from an existing numerical array</strong>:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy</span> <span class="kn">as</span> <span class="nn">np</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c"># raw annotations created at random</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">x</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="n">low</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">high</span><span class="o">=</span><span class="mi">7</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">4</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">x</span>

<span class="go">array([[5, 4, 4, 5],</span>
<span class="go">       [6, 3, 5, 6],</span>
<span class="go">       [5, 3, 4, 4],</span>
<span class="go">       [4, 3, 6, 5],</span>
<span class="go">       [4, 6, 3, 3],</span>
<span class="go">       [4, 3, 4, 6],</span>
<span class="go">       [4, 3, 5, 5],</span>
<span class="go">       [4, 4, 4, 3],</span>
<span class="go">       [4, 4, 6, 4],</span>
<span class="go">       [6, 6, 5, 5]])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">anno</span> <span class="o">=</span> <span class="n">AnnotationsContainer</span><span class="o">.</span><span class="n">from_array</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">missing_values</span><span class="o">=</span><span class="p">[</span><span class="mi">3</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">anno</span><span class="o">.</span><span class="n">annotations</span>

<span class="go">array([[ 1,  0,  0,  1],</span>
<span class="go">       [ 2, -1,  1,  2],</span>
<span class="go">       [ 1, -1,  0,  0],</span>
<span class="go">       [ 0, -1,  2,  1],</span>
<span class="go">       [ 0,  2, -1, -1],</span>
<span class="go">       [ 0, -1,  0,  2],</span>
<span class="go">       [ 0, -1,  1,  1],</span>
<span class="go">       [ 0,  0,  0, -1],</span>
<span class="go">       [ 0,  0,  2,  0],</span>
<span class="go">       [ 2,  2,  1,  1]])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">anno</span><span class="o">.</span><span class="n">labels</span>
<span class="go">[4, 5, 6]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">anno</span><span class="o">.</span><span class="n">missing_values</span>
<span class="go">[3]</span>
</pre></div>
</div>
<p>In this example, we arbitrarily defined the value 3 to represent missing
missing values. For arrays, the default missing values are
-1, numpy.nan, and None.</p>
<p>For use in the rest of the library, you may use the <cite>annotations</cite> property
whenever an annotation array is needed, e.g.:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">pyanno.models</span> <span class="kn">import</span> <span class="n">ModelBt</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c"># create a new model with 3 label classes, 4 annotators</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span> <span class="o">=</span> <span class="n">ModelBt</span><span class="o">.</span><span class="n">create_initial_state</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">mle</span><span class="p">(</span><span class="n">anno</span><span class="o">.</span><span class="n">annotations</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="models">
<h3><a class="toc-backref" href="#id10">Models</a><a class="headerlink" href="#models" title="Permalink to this headline">¶</a></h3>
<p>pyAnno defines an implementation of several models, which can be found in
the namespace <a class="reference internal" href="pyanno.models.html"><em>pyanno.models</em></a>. At the moment,
there are four available classes,
<a class="reference internal" href="pyanno.models.html#pyanno.modelA.ModelA" title="pyanno.modelA.ModelA"><tt class="xref py py-class docutils literal"><span class="pre">ModelA</span></tt></a>,
<a class="reference internal" href="pyanno.models.html#pyanno.modelB.ModelB" title="pyanno.modelB.ModelB"><tt class="xref py py-class docutils literal"><span class="pre">ModelB</span></tt></a>,
<a class="reference internal" href="pyanno.models.html#pyanno.modelBt.ModelBt" title="pyanno.modelBt.ModelBt"><tt class="xref py py-class docutils literal"><span class="pre">ModelBt</span></tt></a>, and
<a class="reference internal" href="pyanno.models.html#pyanno.modelBt_loopdesign.ModelBtLoopDesign" title="pyanno.modelBt_loopdesign.ModelBtLoopDesign"><tt class="xref py py-class docutils literal"><span class="pre">ModelBtLoopDesign</span></tt></a>.</p>
<p>All models offer a common set of methods,
which we will describe in the following
(see <a class="reference internal" href="pyanno.html#pyanno.abstract_model.AbstractModel" title="pyanno.abstract_model.AbstractModel"><tt class="xref py py-class docutils literal"><span class="pre">AbstractModel</span></tt></a>).</p>
<div class="section" id="creating-a-new-model">
<h4><a class="toc-backref" href="#id11">Creating a new model</a><a class="headerlink" href="#creating-a-new-model" title="Permalink to this headline">¶</a></h4>
<p>All models define a method <cite>create_initial_state</cite>, which is the <strong>most common
way to create a model</strong>, in that one only specifies basic parameters,
like the number of label classes and annotators, and other internal parameters
are initialized at random:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">pyanno.models</span> <span class="kn">import</span> <span class="n">ModelA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c"># create a new instance of model A, with 5 label classes</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span> <span class="o">=</span> <span class="n">ModelA</span><span class="o">.</span><span class="n">create_initial_state</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c"># other model parameters are initialized from the model prior</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">theta</span>

<span class="go">array([ 0.83840633,  0.8484543 ,  0.64425106,  0.82917001,  0.62370467,</span>
<span class="go">        0.68990019,  0.83898436,  0.60759938])</span>
</pre></div>
</div>
</div>
<div class="section" id="estimating-parameters">
<h4><a class="toc-backref" href="#id12">Estimating parameters</a><a class="headerlink" href="#estimating-parameters" title="Permalink to this headline">¶</a></h4>
<p>Model parameters can be estimated from data using maximum likelihood
estimation (MLE):</p>
<p><img class="math" src="_images/math/3e9831cd47925f7737f1bf0ce580e26dee57444b.png" alt="\mathrm{MLE}(\theta) = \operatorname*{arg\,max}_{\theta} \, \log P(\mathbf{x} | \theta)"/></p>
<p>or maximum a posteriori (MAP) estimation:</p>
<p><img class="math" src="_images/math/7e5a9853229a75f922ca08eb480b17efe037be9e.png" alt="\mathrm{MAP}(\theta) = \operatorname*{arg\,max}_{\theta} \, \log P(\theta | \mathbf{x})"/></p>
<p>The corresponding methods of the model object are called
<a class="reference internal" href="pyanno.html#pyanno.abstract_model.AbstractModel.mle" title="pyanno.abstract_model.AbstractModel.mle"><tt class="xref py py-meth docutils literal"><span class="pre">mle()</span></tt></a>
and
<a class="reference internal" href="pyanno.html#pyanno.abstract_model.AbstractModel.map" title="pyanno.abstract_model.AbstractModel.map"><tt class="xref py py-meth docutils literal"><span class="pre">map()</span></tt></a>.</p>
<p>For example:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">pyanno.annotations</span> <span class="kn">import</span> <span class="n">AnnotationsContainer</span>

<span class="gp">&gt;&gt;&gt; </span><span class="c"># load some test data</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">anno</span> <span class="o">=</span> <span class="n">AnnotationsContainer</span><span class="o">.</span><span class="n">from_file</span><span class="p">(</span><span class="s">&quot;DATAPATH/testdata_words.txt&quot;</span><span class="p">)</span>

<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">pyanno.models</span> <span class="kn">import</span> <span class="n">ModelB</span>

<span class="gp">&gt;&gt;&gt; </span><span class="c"># create an instance of model B, with 4 label classes and 8 annotators</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span> <span class="o">=</span> <span class="n">ModelB</span><span class="o">.</span><span class="n">create_initial_state</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">8</span><span class="p">)</span>

<span class="gp">&gt;&gt;&gt; </span><span class="c"># model.pi contains the prior probability of each label class</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c"># these are the initial values (they actual values will vary, since</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c"># they are chosen at random</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="n">model</span><span class="o">.</span><span class="n">pi</span>
<span class="go">[ 0.20491305  0.54925142  0.10808026  0.13775528]</span>

<span class="gp">&gt;&gt;&gt; </span><span class="c"># estimate the parameters from the observed data using MAP</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">anno</span><span class="o">.</span><span class="n">annotations</span><span class="p">)</span>

<span class="gp">&gt;&gt;&gt; </span><span class="c"># the last parameters is very close to zero, since the annotations</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c"># only contain 3 observed label classes</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="n">model</span><span class="o">.</span><span class="n">pi</span>
<span class="go">[  1.52012196e-01   6.35840218e-01   2.12147586e-01   3.92595587e-44]</span>
</pre></div>
</div>
<p>The models also have a method to compute the log likelihood of data
given the current estimate of the parameters,
<a class="reference internal" href="pyanno.html#pyanno.abstract_model.AbstractModel.log_likelihood" title="pyanno.abstract_model.AbstractModel.log_likelihood"><tt class="xref py py-meth docutils literal"><span class="pre">log_likelihood()</span></tt></a>:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="c"># create an instance of model B, with 4 label classes and 8 annotators</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span> <span class="o">=</span> <span class="n">ModelB</span><span class="o">.</span><span class="n">create_initial_state</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">8</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="c"># log likelihood of the model before parameters optimization</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">log_likelihood</span><span class="p">(</span><span class="n">anno</span><span class="o">.</span><span class="n">annotations</span><span class="p">)</span>
<span class="go">-3371.9552260166579</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="c"># estimate the parameters from the observed data using MAP</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">anno</span><span class="o">.</span><span class="n">annotations</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="c"># after optimization, the log likelihood has improved</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">log_likelihood</span><span class="p">(</span><span class="n">anno</span><span class="o">.</span><span class="n">annotations</span><span class="p">)</span>
<span class="go">-1698.1356816301102</span>
</pre></div>
</div>
</div>
<div class="section" id="computing-the-posterior-distribution-over-label-classes">
<h4><a class="toc-backref" href="#id13">Computing the posterior distribution over label classes</a><a class="headerlink" href="#computing-the-posterior-distribution-over-label-classes" title="Permalink to this headline">¶</a></h4>
<p>After the model parameters have been estimated, one can compute the
posterior distribution over the &#8220;true&#8221; label classes using the
<a class="reference internal" href="pyanno.html#pyanno.abstract_model.AbstractModel.infer_labels" title="pyanno.abstract_model.AbstractModel.infer_labels"><tt class="xref py py-meth docutils literal"><span class="pre">infer_labels()</span></tt></a>:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="c"># load annotations</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">pyanno.annotations</span> <span class="kn">import</span> <span class="n">AnnotationsContainer</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">anno</span> <span class="o">=</span> <span class="n">AnnotationsContainer</span><span class="o">.</span><span class="n">from_file</span><span class="p">(</span><span class="s">&quot;data/testdata_words.txt&quot;</span><span class="p">)</span>

<span class="gp">&gt;&gt;&gt; </span><span class="c"># create and fit model</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">pyanno.models</span> <span class="kn">import</span> <span class="n">ModelBt</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span> <span class="o">=</span> <span class="n">ModelBt</span><span class="o">.</span><span class="n">create_initial_state</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">8</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">anno</span><span class="o">.</span><span class="n">annotations</span><span class="p">)</span>

<span class="gp">&gt;&gt;&gt; </span><span class="c"># compute the posterior distribution over true annotations</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">posterior</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">infer_labels</span><span class="p">(</span><span class="n">anno</span><span class="o">.</span><span class="n">annotations</span><span class="p">)</span>

<span class="gp">&gt;&gt;&gt; </span><span class="c"># each row show the probability of each label class for the</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c"># corresponding item</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="n">posterior</span>
<span class="go">[[  6.11296106e-05   9.99845391e-01   9.34796369e-05]</span>
<span class="go"> [  6.11296106e-05   9.99845391e-01   9.34796369e-05]</span>
<span class="go"> [  1.72435609e-04   7.44387155e-04   9.99083177e-01]</span>
<span class="go"> ...,</span>
<span class="go"> [  8.98559709e-04   9.75743127e-01   2.33583134e-02]</span>
<span class="go"> [  9.98634702e-01   1.00816769e-03   3.57129927e-04]</span>
<span class="go"> [  5.41655039e-05   9.99863004e-01   8.28300980e-05]]</span>
</pre></div>
</div>
</div>
<div class="section" id="computing-the-posterior-distribution-over-accuracy">
<h4><a class="toc-backref" href="#id14">Computing the posterior distribution over accuracy</a><a class="headerlink" href="#computing-the-posterior-distribution-over-accuracy" title="Permalink to this headline">¶</a></h4>
<p>Each of the models has a set of parameters that correspond to the accuracy
of annotators, i.e., their likelihood of reporting correct annotations. The
MLE and MAP estimators compute a point estimate of this parameters, but in
order to draw conclusions about them, one may wish to know how robust these
estimates are, i.e., one would rather have a full probability distribution
over these parameters given the data.</p>
<p>(A note: the posterior distribution can be used to obtain a
<a class="reference external" href="en.wikipedia.org/wiki/Credible_interval">*credible interval*</a>,
i.e., the parameters will belong to the interval with
a certain probability <em>given the observed data</em>. This is different &#8211;
and often more meaningful &#8211; than a
<a class="reference external" href="http://en.wikipedia.org/wiki/Confidence_interval">*confidence interval*</a>
, which gives
the range of parameters that one would get from hypothetical
repeated experiments.)</p>
<p>pyAnno models have a method called
<a class="reference internal" href="pyanno.html#pyanno.abstract_model.AbstractModel.sample_posterior_over_accuracy" title="pyanno.abstract_model.AbstractModel.sample_posterior_over_accuracy"><tt class="xref py py-meth docutils literal"><span class="pre">sample_posterior_over_accuracy()</span></tt></a>
that allow to draw a number of samples from this posterior distribution.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">pyanno.annotations</span> <span class="kn">import</span> <span class="n">AnnotationsContainer</span>

<span class="gp">&gt;&gt;&gt; </span><span class="c"># load some test data</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">anno</span> <span class="o">=</span> <span class="n">AnnotationsContainer</span><span class="o">.</span><span class="n">from_file</span><span class="p">(</span><span class="s">&quot;data/testdata_words.txt&quot;</span><span class="p">)</span>

<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">pyanno.models</span> <span class="kn">import</span> <span class="n">ModelBt</span>

<span class="gp">&gt;&gt;&gt; </span><span class="c"># create an instance of model Bt, with 3 label classes and 8 annotators</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span> <span class="o">=</span> <span class="n">ModelBt</span><span class="o">.</span><span class="n">create_initial_state</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">8</span><span class="p">)</span>

<span class="gp">&gt;&gt;&gt; </span><span class="c"># estimate the parameters from the observed data using MAP</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">anno</span><span class="o">.</span><span class="n">annotations</span><span class="p">)</span>

<span class="gp">&gt;&gt;&gt; </span><span class="c"># draw 200 samples from the posterior of the accuracy</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c"># parameters (theta). The first 100 samples (burn_in_samples) are</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c"># discarded, to allow the sampler to converge, and we only keep</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c"># one in 3 samples (thin_samples), in order to increase the</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c"># between successive samples independence</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">samples</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">sample_posterior_over_accuracy</span><span class="p">(</span><span class="n">anno</span><span class="o">.</span><span class="n">annotations</span><span class="p">,</span> <span class="mi">200</span><span class="p">,</span>
<span class="gp">... </span>              <span class="n">burn_in_samples</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span> <span class="n">thin_samples</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>

<span class="gp">&gt;&gt;&gt; </span><span class="c"># we can then compute a credible interval for the parameters:</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">samples</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>

<span class="go">array([ 0.93827498,  0.89468126,  0.81692565,  0.89159128,  0.90249765,</span>
<span class="go">        0.88407621,  0.83279993,  0.83576043])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">samples</span><span class="o">.</span><span class="n">std</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>

<span class="go">array([ 0.01091991,  0.01805782,  0.02169594,  0.01670348,  0.01989191,</span>
<span class="go">        0.01498183,  0.02385009,  0.01775805])</span>
</pre></div>
</div>
</div>
<div class="section" id="more-model-methods">
<h4><a class="toc-backref" href="#id15">More model methods</a><a class="headerlink" href="#more-model-methods" title="Permalink to this headline">¶</a></h4>
<ul>
<li><p class="first">It is possible to generate random annotations from a model using the
<a class="reference internal" href="pyanno.html#pyanno.abstract_model.AbstractModel.generate_annotations" title="pyanno.abstract_model.AbstractModel.generate_annotations"><tt class="xref py py-meth docutils literal"><span class="pre">generate_annotations()</span></tt></a>
method:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">pyanno.models</span> <span class="kn">import</span> <span class="n">ModelBt</span>

<span class="gp">&gt;&gt;&gt; </span><span class="c"># create a new model Bt; the accuracy parameters of the model are set</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c"># such that the first two annotators are extremely reliable, while</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c"># the third one annotators responds at random</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span> <span class="o">=</span> <span class="n">ModelBt</span><span class="o">.</span><span class="n">create_initial_state</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="n">theta</span><span class="o">=</span><span class="p">[</span><span class="mf">0.99</span><span class="p">,</span><span class="mf">0.99</span><span class="p">,</span><span class="mf">0.25</span><span class="p">])</span>

<span class="gp">&gt;&gt;&gt; </span><span class="c"># the randomly generated annotations reflect that: the first two</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c"># annotators respond in an identical way, while the third guesses</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">generate_annotations</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>

<span class="go">array([[1, 1, 1],</span>
<span class="go">       [1, 1, 2],</span>
<span class="go">       [3, 3, 1],</span>
<span class="go">       [0, 0, 2],</span>
<span class="go">       [0, 0, 2],</span>
<span class="go">       [0, 0, 3],</span>
<span class="go">       [3, 3, 3],</span>
<span class="go">       [2, 2, 0],</span>
<span class="go">       [1, 1, 3],</span>
<span class="go">       [1, 1, 1]])</span>
</pre></div>
</div>
</li>
<li><p class="first">The method
<a class="reference internal" href="pyanno.html#pyanno.abstract_model.AbstractModel.are_annotations_compatible" title="pyanno.abstract_model.AbstractModel.are_annotations_compatible"><tt class="xref py py-meth docutils literal"><span class="pre">are_annotations_compatible()</span></tt></a>
verifies that a given annotations set is compatible with a model instance:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">pyanno.annotations</span> <span class="kn">import</span> <span class="n">AnnotationsContainer</span>

<span class="gp">&gt;&gt;&gt; </span><span class="c"># the loaded annotations have 8 columns, i.e., 8 annotators</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">anno</span> <span class="o">=</span> <span class="n">AnnotationsContainer</span><span class="o">.</span><span class="n">from_file</span><span class="p">(</span><span class="s">&quot;DATAPATH/testdata_words.txt&quot;</span><span class="p">)</span>

<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">pyanno.models</span> <span class="kn">import</span> <span class="n">ModelB</span>

<span class="gp">&gt;&gt;&gt; </span><span class="c"># a model with just 2 annotators is not compatible with the data</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span> <span class="o">=</span> <span class="n">ModelB</span><span class="o">.</span><span class="n">create_initial_state</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">are_annotations_compatible</span><span class="p">(</span><span class="n">anno</span><span class="o">.</span><span class="n">annotations</span><span class="p">)</span>
<span class="go">False</span>

<span class="gp">&gt;&gt;&gt; </span><span class="c"># with 8 annotators, the model is compatible</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span> <span class="o">=</span> <span class="n">ModelB</span><span class="o">.</span><span class="n">create_initial_state</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">8</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">are_annotations_compatible</span><span class="p">(</span><span class="n">anno</span><span class="o">.</span><span class="n">annotations</span><span class="p">)</span>
<span class="go">True</span>
</pre></div>
</div>
</li>
</ul>
</div>
</div>
<div class="section" id="annotation-statistics">
<h3><a class="toc-backref" href="#id16">Annotation statistics</a><a class="headerlink" href="#annotation-statistics" title="Permalink to this headline">¶</a></h3>
<p>Standard annotations statistics to measure annotators agreement and
covariance are available in the
<a class="reference internal" href="pyanno.measures.html#module-pyanno.measures" title="pyanno.measures"><tt class="xref py py-mod docutils literal"><span class="pre">pyanno.measures</span></tt></a> package.</p>
<p>Some statistical measures are only defined for pairs of annotators.
The <a class="reference internal" href="pyanno.measures.html#module-pyanno.measures" title="pyanno.measures"><tt class="xref py py-mod docutils literal"><span class="pre">pyanno.measures</span></tt></a> package defines a function,
<tt class="xref py py-func docutils literal"><span class="pre">pairwise_matrix()</span></tt>, which, given a set of annotations,
returns a matrix with the statistics evaluated for all pairs of annotators:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">pyanno.annotations</span> <span class="kn">import</span> <span class="n">AnnotationsContainer</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">anno</span> <span class="o">=</span> <span class="n">AnnotationsContainer</span><span class="o">.</span><span class="n">from_file</span><span class="p">(</span><span class="s">&quot;data/testdata_words.txt&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c"># keep only the annotations for the first 4 annotators to make the</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c"># example more readable</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">annotations</span> <span class="o">=</span> <span class="n">anno</span><span class="o">.</span><span class="n">annotations</span><span class="p">[:,:</span><span class="mi">4</span><span class="p">]</span>

<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">pyanno.measures</span> <span class="kn">import</span> <span class="n">cohens_kappa</span><span class="p">,</span> <span class="n">pairwise_matrix</span>

<span class="gp">&gt;&gt;&gt; </span><span class="c"># compute Cohen&#39;s kappa for the first 2 annotators</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cohens_kappa</span><span class="p">(</span><span class="n">annotations</span><span class="p">[:,</span><span class="mi">0</span><span class="p">],</span> <span class="n">annotations</span><span class="p">[:,</span><span class="mi">1</span><span class="p">])</span>
<span class="go">0.7018473770364021</span>

<span class="gp">&gt;&gt;&gt; </span><span class="c"># compute Cohen&#39;s kappa for all pairs of annotators</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c"># some entries are &#39;nan&#39; because the annotators annotated different</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c"># sets of items</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="n">pairwise_matrix</span><span class="p">(</span><span class="n">cohens_kappa</span><span class="p">,</span> <span class="n">annotations</span><span class="p">)</span>
<span class="go">[[ 1.          0.70184738  0.58818707         nan]</span>
<span class="go"> [ 0.70184738  1.          0.6173614   0.57329119]</span>
<span class="go"> [ 0.58818707  0.6173614   1.          0.50605635]</span>
<span class="go"> [        nan  0.57329119  0.50605635  1.        ]]</span>
</pre></div>
</div>
</div>
<div class="section" id="plots">
<h3><a class="toc-backref" href="#id17">Plots</a><a class="headerlink" href="#plots" title="Permalink to this headline">¶</a></h3>
<p>The plots displayed in the pyAnno GUI are also available in the module
<tt class="xref py py-mod docutils literal"><span class="pre">pyanno.plots</span></tt>, to be displayed separately from Python code or from a
Python shell.</p>
<p>To be able to use them correctly, you should remember to set the environment
variable
<cite>ETS_TOOLKIT=&#8217;wx&#8217;</cite>, and start the IPython shell with the option &#8216;&#8211;gui=wx&#8217;.</p>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">User guide</a><ul>
<li><a class="reference internal" href="#using-the-library-from-the-pyanno-gui">Using the library from the pyAnno GUI</a><ul>
<li><a class="reference internal" href="#starting-the-gui">Starting the GUI</a></li>
<li><a class="reference internal" href="#navigating-the-main-window">Navigating the main window</a><ul>
<li><a class="reference internal" href="#plot-tools">Plot tools</a></li>
</ul>
</li>
<li><a class="reference internal" href="#the-database-window">The database window</a></li>
</ul>
</li>
<li><a class="reference internal" href="#using-the-library-from-python">Using the library from Python</a><ul>
<li><a class="reference internal" href="#general-organization-of-pyanno">General organization of pyAnno</a></li>
<li><a class="reference internal" href="#annotations">Annotations</a></li>
<li><a class="reference internal" href="#models">Models</a><ul>
<li><a class="reference internal" href="#creating-a-new-model">Creating a new model</a></li>
<li><a class="reference internal" href="#estimating-parameters">Estimating parameters</a></li>
<li><a class="reference internal" href="#computing-the-posterior-distribution-over-label-classes">Computing the posterior distribution over label classes</a></li>
<li><a class="reference internal" href="#computing-the-posterior-distribution-over-accuracy">Computing the posterior distribution over accuracy</a></li>
<li><a class="reference internal" href="#more-model-methods">More model methods</a></li>
</ul>
</li>
<li><a class="reference internal" href="#annotation-statistics">Annotation statistics</a></li>
<li><a class="reference internal" href="#plots">Plots</a></li>
</ul>
</li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="installation.html"
                        title="previous chapter">Installation guide</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="models.html"
                        title="next chapter">Model definitions</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="_sources/user_guide.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="models.html" title="Model definitions"
             >next</a> |</li>
        <li class="right" >
          <a href="installation.html" title="Installation guide"
             >previous</a> |</li>
        <li><a href="index.html">pyanno 2.0 documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2011, Pietro Berkes, Bob Carpenter, Andrey Rzhetsky, James A. Evans.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.1.2.
    </div>
  </body>
</html>